# SPDX-FileCopyrightText: Contributors to PyPSA-Eur <https://github.com/pypsa/pypsa-eur>
#
# SPDX-License-Identifier: CC0-1.0

tutorial: true

run:
  name: test-elec-perfect
  disable_progressbar: true
  shared_resources:
    policy: false
  shared_cutouts: true

foresight: perfect
planning_horizons: [2030, 2040]

countries:
- BE

snapshots:
  start: "2013-03-01"
  end: "2013-03-08"

co2_budget:
  emissions_scope: All greenhouse gases - (CO2 equivalent)
  values: fraction  # Interpret values as fractions of 1990 baseline

  # Upper emissions constraints
  upper:
    enable: true
    2030: 0.450  # 45% of 1990 emissions (55% reduction by 2030)
    2040: 0.100  # 10% of 1990 emissions (90% reduction by 2040)

  # No lower bounds for electricity-only
  lower:
    enable: false

electricity:
  co2limit_enable: false  # Disabled - using unified co2_budget instead
  co2limit: 100000000.0
  gaslimit_enable: false
  gaslimit: 0
  transmission_limit: vopt
  extendable_carriers:
    Generator:
    - solar
    - solar-hsat
    - onwind
    StorageUnit:
    - battery
    Store:
    - H2
    Link:
    - H2 pipeline
  renewable_carriers:
  - solar
  - solar-hsat
  - onwind
  estimate_renewable_capacities:
    enable: true
    from_gem: false
    year: 2020
    expansion_limit: false
    technology_mapping:
      Onshore: onwind
      PV: solar
  exclude_carriers: []
  conventional_carriers: []

existing_capacities:
  grouping_years_power:
  - 2020
  grouping_years_heat:
  - 2015
  threshold_capacity: 0
  default_heating_lifetime: 20
  conventional_carriers: []
  enabled: false

costs:
  fill_values:
    CO2 intensity: 0
    FOM: 0
    VOM: 0
    discount rate: 0.07
    efficiency: 1
    fuel: 0
    investment: 0
    lifetime: 25
  emission_prices:
    enable: false
    co2: 0.0
    co2_monthly_prices: false

atlite:
  default_cutout: be-03-2013-era5
  cutouts:
    be-03-2013-era5:
      module: era5
      x:
      - 4.0
      - 15.0
      y:
      - 46.0
      - 56.0
      time:
      - "2013-03-01"
      - "2013-03-08"

renewable:
  offwind-ac:
    max_depth: false
  offwind-dc:
    max_depth: false
  offwind-float:
    max_depth: false
    min_depth: false

clustering:
  exclude_carriers:
  - OCGT
  - offwind-ac
  - coal
  temporal:
    resolution: 24h
    time_segmentation:
      enable: false
      resolution:
      segments:
  cluster_network:
    n_clusters: 5

lines:
  dynamic_line_rating:
    activate: true
    max_line_rating: 1.3

sector:
  enabled: false
  transport:
    enable: false
  heating:
    enable: false
  biomass:
    enable: false
  ammonia: false
  methanol: false
  industry:
    enable: false
  shipping:
    enable: false
  aviation:
    enable: false
  agriculture:
    enable: false
  dac: false
  H2_network: false
  gas_network: false
  electricity_transmission_grid: true
  co2_network: false
  co2_network_cost_factor: 0.0
  allam_cycle_gas: false
  cluster_heat_buses: false
  conventional_generation: []
  hydrogen_underground_storage_locations: []
  district_heating:
    ates:
      enable: false
      capex_as_fraction_of_geothermal_heat_source: 0.0
      marginal_cost_charger: 0.0
      recovery_factor: 0.0
    ptes:
      dynamic_capacity: false
      supplemental_heating:
        enable: false
        booster_heat_pump: false
  limited_heat_sources: []
  time_dep_hp_cop: false
  electricity_distribution_grid: false

solving:
  solver:
    name: highs
    options: highs-simplex
  check_objective:
    enable: false
    expected_value: 38120188.094
  options:
    transmission_losses: 0

conventional:
  dynamic_fuel_price: false
  unit_commitment: false
  nuclear:
    p_max_pu: data/nuclear_p_max_pu.csv

plotting:
  costs_max: auto
  costs_threshold: 0.001
  energy_max: auto
  energy_min: auto
  energy_threshold: 0.00001
  balance_map:
    bus_carriers:
    - AC
